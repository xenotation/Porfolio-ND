{{ define "main" }}

<link rel="stylesheet" href="/css/bio-pages.css">
<script src="{{ "/js/spinner.js" | relURL }}" defer></script>

{{/* ---------------------------
     Minimal data (simple & explicit)
---------------------------- */}}
{{ $personName   := or .Params.name .Site.Params.name }}
{{ $descr        := or .Params.description .Site.Params.description }}
{{ $jobTitle     := or .Params.jobTitle .Site.Params.jobTitle }}
{{ $profileImage := or .Params.profile_image .Site.Params.profileImage }}
{{ if $profileImage }}{{ $profileImage = $profileImage | absURL }}{{ end }}

{{/* SAMEAS: use ONLY params_sameas_other (array of absolute URLs) */}}
{{ $sameAs := .Site.Params.params_sameas_other | default (slice) }}

<script type="application/ld+json">
{{ dict
  "@context" "https://schema.org"
  "@type" "ProfilePage"
  "mainEntity" (dict
    "@type" "Person"
    "name" $personName
    "url" .Permalink
    "description" $descr
    "image" (cond (ne $profileImage "") $profileImage nil)
    "jobTitle" $jobTitle
    "sameAs" $sameAs
    "knowsLanguage" (slice "en" "bg")
  )
 | jsonify | safeHTML }}
</script>

<div class="biolist">
  <h1 class="page-heading">{{ .Title }}</h1>

  <!-- Eye block (decorative only) -->
  <div class="eye" aria-hidden="true">
    <img class="eye-base"  src="/images/i_see_you_O.png" alt="">
    <img class="eye-pupil" src="/images/i_see_you_I.png" alt="">
  </div>

  <!-- Two-column links (press grid styles) -->
  <section class="about-meta container--press">
    <ul class="press-list" role="list">
      {{ with .Site.Params.social.instagram }}
        <li class="press-item">
          <h3 class="press-titleline">
            <a class="press-link" href="{{ . | safeURL }}" target="_blank" rel="me noopener">Instagram</a>
          </h3>
        </li>
      {{ end }}

      {{ with .Site.Params.social.email }}
        <li class="press-item">
          <h3 class="press-titleline">
            <a class="press-link" href="mailto:{{ . }}">Email</a>
          </h3>
        </li>
      {{ end }}

      {{ with .Site.Params.social.facebook }}
        <li class="press-item">
          <h3 class="press-titleline">
            <a class="press-link" href="{{ . | safeURL }}" target="_blank" rel="me noopener">Facebook</a>
          </h3>
        </li>
      {{ end }}

      {{ with .Site.Params.social.youtube }}
        <li class="press-item">
          <h3 class="press-titleline">
            <a class="press-link" href="{{ . | safeURL }}" target="_blank" rel="noopener">YouTube</a>
          </h3>
        </li>
      {{ end }}

      {{ with .Params.cv_pdf }}
        <li class="press-item">
          <h3 class="press-titleline">
            <a class="press-link" href="{{ . | safeURL }}" target="_blank" rel="noopener">CV (PDF)</a>
          </h3>
        </li>
      {{ end }}

      {{ with .Params.portfolio_pdf }}
        <li class="press-item">
          <h3 class="press-titleline">
            <a class="press-link" href="{{ . | safeURL }}" target="_blank" rel="noopener">{{ T "portfolio" | default "Portfolio" }}</a>
          </h3>
        </li>
      {{ end }}
    </ul>
  </section>

  <div class="about-body">
    <div class="about-text">{{ .Content }}</div>
  </div>
</div>

{{ end }}
